(this.webpackJsonptupedido=this.webpackJsonptupedido||[]).push([[0],{133:function(e,t,n){},134:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(18),i=n.n(r),s=(n(133),n(134),n(27)),o=n(218),d=n(219),j=n(220),l=n(215),u=n.p+"static/media/logo.d1f1e5ef.png",b=n(75),h=n(214),O=n(210),m=n(64),x=n(11),p=n(3),f=c.a.createContext({cartItems:[],addItem:function(e){},decreaseItem:function(e){},removeItem:function(e){},setQuantity:function(e,t){},showCart:!1,setShowCart:function(e){},emptyCart:function(){}});var g=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(x.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(!1),o=Object(x.a)(s,2),d=o[0],j=o[1];function l(e){var t=Object(m.a)(r),n=t.findIndex((function(t){return t.item.id===e.id}));-1!==n&&(t.splice(n,1),i(t))}return Object(p.jsx)(f.Provider,{value:{cartItems:r,removeItem:l,setQuantity:function(e,t){var n=r.find((function(t){return t.item.id===e.id}));n?n.quantity=t:i([].concat(Object(m.a)(r),[{item:e,quantity:t}]))},decreaseItem:function(e){var t=Object(m.a)(r),n=t.find((function(t){return t.item.id===e.id}));n&&(n.quantity-=1,0===n.quantity?l(e):i(t))},addItem:function(e){var t=Object(m.a)(r),n=t.find((function(t){return t.item.id===e.id}));n?(n.quantity+=1,i(t)):i([].concat(Object(m.a)(r),[{item:e,quantity:1}]))},showCart:d,setShowCart:function(e){j(e)},emptyCart:function(){i([])}},children:t})};function v(e){var t=Object(a.useContext)(f).cartItems,n=e.onCartClick;return Object(p.jsx)(O.a,{badgeContent:function(){var e,n=0,a=Object(b.a)(t);try{for(a.s();!(e=a.n()).done;){n+=e.value.quantity}}catch(c){a.e(c)}finally{a.f()}return n}(),color:"primary",children:Object(p.jsx)(h.a,{onClick:n})})}var y=n(8),C=n(12),w=n(249),S=n(250),N=[{icon:"HomeIcon",label:"Home",url:"/"},{icon:"",label:"Who we are?",url:"/whoWeAre"},{icon:"",label:"Orders",url:"/orders"},{icon:"",label:"Supermarket Catalog",url:"/supermarket"},{icon:"",label:"Restaurants",url:"/restaurants"}],k=n(24),I=Object(y.a)((function(e){return{root:{backgroundColor:e.palette.grey[100],height:e.spacing(3),color:e.palette.grey[800],fontWeight:e.typography.fontWeightRegular,"&:hover, &:focus":{backgroundColor:e.palette.grey[300]},"&:active":{boxShadow:e.shadows[1],backgroundColor:Object(C.c)(e.palette.grey[300],.12)}}}}))(S.a);function q(){return Object(p.jsx)(w.a,{"aria-label":"breadcrumb",children:N.map((function(e,t){return Object(p.jsx)(k.b,{to:e.url,children:Object(p.jsx)(I,{label:e.label})},t)}))})}var T=n(118),A=n(217),B=n(113),D=n.n(B);function P(){var e=c.a.useState(null),t=Object(x.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return Object(p.jsxs)("div",{children:[Object(p.jsx)(l.a,{onClick:function(e){a(e.currentTarget)},color:"inherit",children:Object(p.jsx)(D.a,{})}),Object(p.jsx)(T.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r,children:N.map((function(e,t){return Object(p.jsx)(k.b,{to:e.url,children:Object(p.jsx)(A.a,{onClick:r,children:e.label})},t)}))})]})}var L=n(247),W=(n(148),n(149),function(){var e=Object(s.b)().loginWithPopup;return Object(p.jsx)("button",{className:"login-button",onClick:e,color:"primary",children:"Login"})}),F=(n(150),function(){var e=Object(s.b)().logout;return Object(p.jsx)("button",{className:"logout-button",onClick:function(){return e({returnTo:window.location.origin})},children:"Logout"})}),z=Object(o.a)((function(e){return{username:{marginLeft:10,marginRight:10}}})),E=function(){var e=z(),t=Object(s.b)(),n=t.user,a=t.isAuthenticated;return t.isLoading?Object(p.jsx)("div",{children:"Loading ..."}):a&&Object(p.jsx)("div",{className:e.username,children:Object(p.jsx)("h6",{children:n.name})})},V=Object(o.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function R(){var e=V(),t=Object(s.b)().isAuthenticated,n=Object(a.useContext)(f),c=n.showCart,r=n.setShowCart;return Object(p.jsx)("div",{className:e.root,children:Object(p.jsx)(d.a,{position:"static",color:"transparent",children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)("img",{src:u,alt:"Logo"}),Object(p.jsx)(L.a,{mdDown:!0,children:Object(p.jsx)(q,{})}),Object(p.jsxs)("div",{className:"menuIcons",children:[Object(p.jsxs)("div",{className:"content-profile",children:[Object(p.jsx)(v,{onCartClick:function(){r(!c)}}),t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(E,{}),Object(p.jsx)(F,{})]}):Object(p.jsx)(W,{})]}),Object(p.jsx)(L.a,{lgUp:!0,children:Object(p.jsx)(l.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(p.jsx)(P,{})})})]})]})})})}var H=n(21),M=n(244);n(151);var J=function(e){return Object(p.jsxs)(M.a,{fade:!0,children:[Object(p.jsx)(M.a.Item,{children:Object(p.jsx)("img",{className:"d-block w-100",src:"https://i.pinimg.com/originals/65/aa/a4/65aaa478fb7104cd655b5f826aad1aec.jpg",alt:"First slide"})}),Object(p.jsx)(M.a.Item,{children:Object(p.jsx)("img",{className:"d-block w-100",src:"http://www.intelligentcio.com/apac/wp-content/uploads/sites/44/2020/07/1000-new.jpg",alt:"Second slide"})}),Object(p.jsx)(M.a.Item,{children:Object(p.jsx)("img",{className:"d-block w-100",src:"https://static.vecteezy.com/system/resources/previews/001/664/520/non_2x/safe-food-delivery-concept-banner-vector.jpg",alt:"Third slide"})})]})},Q=n(229),U=n(230),G=n(231),Y=n(45),K=n(228),X=n(80),Z=n(223),_=n(251),$=n(224),ee=n(246),te=n(227),ne=n(164),ae=n(6),ce=n(222),re=n(225),ie=n(226),se=n(221),oe=Object(o.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:X.a[500]},price:{color:"black",fontSize:"large",fontWeight:"bolder"},priceContainer:{justifyContent:"space-between"},margin:{margin:e.spacing(1)},textField:{width:"25ch"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function de(e){var t=oe(),n=e.stock,a=e.amount,r=e.onChange,i=e.onDecrease,s=e.onIncrease,o=c.a.useState(a),d=Object(x.a)(o,2),j=d[0],u=d[1],b=c.a.useState(!1),h=Object(x.a)(b,2),O=h[0],m=h[1],f=function(){n>j?(u(j+1),s()):m(!0)};return Object(p.jsxs)("div",{children:[Object(p.jsxs)(se.a,{className:t.priceContainer,children:[Object(p.jsx)(l.a,{"aria-label":"add to favorites",onClick:f,children:Object(p.jsx)(ce.a,{})}),j>0&&Object(p.jsx)(Z.a,{className:Object(ae.a)(t.margin,t.textField),variant:"outlined",children:Object(p.jsx)(_.a,{value:j,onChange:function(e){u(e.target.value),r(e.target.value)},startAdornment:Object(p.jsx)($.a,{position:"start",children:Object(p.jsx)(l.a,{onClick:function(){u(j-1),i()},children:Object(p.jsx)(re.a,{})})}),endAdornment:Object(p.jsx)($.a,{position:"end",children:Object(p.jsx)(l.a,{onClick:f,children:Object(p.jsx)(ie.a,{})})})})})]}),Object(p.jsx)(ee.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:O,onClose:function(){m(!1)},closeAfterTransition:!0,BackdropComponent:te.a,BackdropProps:{timeout:500},children:Object(p.jsx)(ne.a,{in:O,children:Object(p.jsxs)("div",{className:t.paper,children:[Object(p.jsx)("h2",{id:"transition-modal-title",children:"No stock available"}),Object(p.jsx)("p",{id:"transition-modal-description",children:"Sorry, we are out of stock."})]})})})]})}n(152);var je=Object(o.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:X.a[500]},price:{color:"black",fontSize:"large",fontWeight:"bolder"},priceContainer:{justifyContent:"space-between"},margin:{margin:e.spacing(1)},textField:{width:"25ch"}}}));function le(e){var t=je(),n=e.product,c=e.readonly,r=Object(a.useContext)(f),i=r.cartItems.find((function(e){return e.item.id===n.id})),s=i?i.quantity:0;return Object(p.jsxs)(K.a,{className:t.root,children:[Object(p.jsx)(Q.a,{title:n.name}),Object(p.jsx)(k.b,{to:"/product/"+n.id,children:Object(p.jsx)(U.a,{className:t.media,image:n.image})}),Object(p.jsx)(G.a,{children:Object(p.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"p",children:n.description})}),Object(p.jsxs)("span",{className:"price",children:["\u20ac",n.price]}),!c&&Object(p.jsx)(de,{stock:n.qty,amount:s,onChange:function(e){r.setQuantity(n,e)},onIncrease:function(){r.addItem(n)},onDecrease:function(){r.decreaseItem(n)}})]})}function ue(e){var t=e.products;return Object(p.jsx)("div",{className:"list-container",children:t.map((function(e,t){return Object(p.jsx)(le,{product:e},t)}))})}var be=n(60),he=function e(t){Object(be.a)(this,e),this.id=t.id,this.name=t.name,this.image=t.image,this.description=t.description,this.price=t.price,this.qty=t.qty,this.rating=t.rating},Oe=n(71),me=Oe.a.initializeApp({apiKey:"AIzaSyAPxsUpasJGj4LAkwwZ1DNll58JgQwrd1o",authDomain:"tupedido-b7f88.firebaseapp.com",projectId:"tupedido-b7f88",storageBucket:"tupedido-b7f88.appspot.com",messagingSenderId:"934991668361",appId:"1:934991668361:web:3fdf83b8350a73568e1258",measurementId:"G-R46LM32M29"});function xe(){return Oe.a.firestore(me)}var pe=function(){var e=c.a.useState([]),t=Object(x.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){xe().collection("products").get().then((function(e){if(e.empty)a([]);else{var t=e.docs.map((function(e){return new he(e.data())}));a(t)}}))}),[]),Object(p.jsx)(ue,{products:n})},fe=n(232),ge=Object(o.a)({root:{maxWidth:345}});function ve(e){var t=ge(),n=e.plate,c=Object(a.useContext)(f),r=c.cartItems.find((function(e){return e.item.id===n.id})),i=r?r.quantity:0;return Object(p.jsxs)(K.a,{className:t.root,children:[Object(p.jsxs)(fe.a,{children:[Object(p.jsx)(U.a,{component:"img",height:"200",image:n.image}),Object(p.jsxs)(G.a,{children:[Object(p.jsx)(Y.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n.name}),Object(p.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"p",children:n.category}),Object(p.jsxs)(Y.a,{variant:"body2",color:"textSecondary",component:"p",children:["\u20ac",n.price]})]})]}),Object(p.jsx)(se.a,{children:Object(p.jsx)(de,{stock:n.qty,amount:i,onChange:function(e){c.setQuantity(n,e)},onIncrease:function(){c.addItem(n)},onDecrease:function(){c.decreaseItem(n)}})})]})}n(157);var ye=function(e){var t=e.plates;return Object(p.jsx)("div",{className:"list-container",children:t&&t.length>0&&t.map((function(e,t){return Object(p.jsx)(ve,{plate:e},t)}))})},Ce=function e(t){Object(be.a)(this,e),this.id=t.id,this.category=t.category,this.image=t.image,this.price=t.price,this.name=t.name,this.qty=t.qty};var we=function(){var e=Object(a.useState)(void 0),t=Object(x.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){xe().collection("plates").get().then((function(e){if(e.empty)c([]);else{var t=e.docs.map((function(e){return new Ce(e.data())}));c(t)}}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)(J,{}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(pe,{}),Object(p.jsx)(ye,{plates:n})]})]})},Se=function e(t){Object(be.a)(this,e),this.id=t.id,this.name=t.name,this.address=t.address,this.plates=t.plates,this.image=t.image,this.description=t.description},Ne=(n(158),n(233)),ke=Object(o.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:X.a[500]}}}));function Ie(e){var t=ke(),n=e.restaurant;return Object(p.jsxs)(K.a,{className:t.root,children:[Object(p.jsx)(Q.a,{title:n.name,subheader:n.address}),Object(p.jsx)(U.a,{className:t.media,image:n.image}),Object(p.jsx)(G.a,{children:Object(p.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"p",children:function(e){if(e.length>120)return Object(p.jsxs)("span",{children:[e.slice(0,119)," ",Object(p.jsx)(k.b,{to:"/details/"+n.id,children:"View more..."})]})}(n.description)})}),Object(p.jsx)(se.a,{disableSpacing:!0,children:Object(p.jsx)(l.a,{"aria-label":"add to favorites",children:Object(p.jsx)(Ne.a,{})})})]})}function qe(e){var t=e.restaurants;return Object(p.jsx)("div",{className:"list-container",children:t.map((function(e,t){return Object(p.jsx)(Ie,{restaurant:e},t)}))})}var Te=function(e){var t=c.a.useState([]),n=Object(x.a)(t,2),a=n[0],r=n[1];return c.a.useEffect((function(){xe().collection("restaurants").get().then((function(e){if(e.empty)r([]);else{var t=e.docs.map((function(e){return new Se(e.data())}));r(t)}}))}),[]),Object(p.jsx)(qe,{restaurants:a})},Ae=n(234),Be=n(235),De=n(236);n(159);function Pe(){var e=Object(a.useState)(void 0),t=Object(x.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(void 0),i=Object(x.a)(r,2),s=i[0],o=i[1],d=Object(H.h)().id;return Object(a.useEffect)((function(){xe().collection("restaurants").where("id","==",Number(d)).limit(1).get().then((function(e){e.empty?c(void 0):c(new Se(e.docs[0].data()))}))}),[d]),Object(a.useEffect)((function(){xe().collection("plates").get().then((function(e){if(e.empty)o([]);else{var t=e.docs.map((function(e){return new Ce(e.data())}));o(t)}}))}),[d]),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(Ae.a,{direction:"column",className:"details",children:n&&Object(p.jsxs)(Ae.a,{direction:"column",className:"details-container",children:[Object(p.jsx)(Y.a,{variant:"h4",color:"textSecondary",className:"name",children:n.name}),Object(p.jsxs)("div",{className:"info",children:[Object(p.jsx)("img",{src:n.image}),Object(p.jsxs)("div",{className:"text-info",children:[Object(p.jsx)(Y.a,{variant:"body2",color:"textSecondary",className:"description",children:n.description}),Object(p.jsxs)("div",{children:[Object(p.jsx)(Be.a,{children:Object(p.jsx)(De.a,{})}),Object(p.jsx)(Y.a,{variant:"body2",color:"textSecondary",className:"address",children:n.address})]})]})]})]})}),Object(p.jsx)(ye,{plates:s})]})}n(160);var Le=n(255),We=n(237);var Fe=function(){var e=Object(a.useState)(void 0),t=Object(x.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(void 0),s=Object(x.a)(i,2),o=s[0],d=s[1],j=Object(H.h)().id,l=Object(a.useContext)(f),u=Object(H.g)();return c.a.useEffect((function(){xe().collection("products").where("id","==",Number(j)).limit(1).get().then((function(e){if(e.empty)r(void 0),d(0);else{r(new he(e.docs[0].data()));var t=l.cartItems.find((function(t){return t.item.id===e.docs[0].data().id}));d(t?t.quantity:0)}}))}),[j,l.cartItems]),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(Ae.a,{direction:"column",className:"details",children:n&&Object(p.jsxs)(Ae.a,{direction:"column",className:"details-container",children:[Object(p.jsx)(Y.a,{variant:"h4",color:"textSecondary",className:"name",children:n.name}),Object(p.jsxs)("div",{className:"info",children:[Object(p.jsx)("img",{src:n.image}),Object(p.jsxs)("div",{className:"text-info",children:[Object(p.jsx)(Le.a,{name:"rating",readOnly:!0,size:"large",value:n.rating}),Object(p.jsx)(Y.a,{variant:"body2",color:"textSecondary",className:"description",children:n.description}),Object(p.jsxs)("div",{children:[Object(p.jsxs)(Y.a,{variant:"body2",color:"textSecondary",className:"address",children:["\u20ac",n.price]}),Object(p.jsx)(Y.a,{variant:"body1",color:"textSecondary",className:"in-stock",children:n.qty>0?Object(p.jsx)("span",{children:"In Stock"}):Object(p.jsx)("span",{children:"Unavailable"})}),null!=o&&Object(p.jsx)(de,{stock:n.qty,amount:o,onChange:function(e){l.setQuantity(n,e)},onIncrease:function(){l.addItem(n)},onDecrease:function(){l.decreaseItem(n)}}),Object(p.jsx)(We.a,{variant:"contained",color:"primary",onClick:function(){l.addItem(n),u.push("/checkout")},children:"Buy now"})]})]})]})]})})})},ze=n(216),Ee=n(163),Ve=n(238),Re=n(240),He=n(239),Me=n(253),Je=n(117),Qe=n.n(Je),Ue=Object(o.a)((function(e){return{title:{margin:e.spacing(4,0,2)},avatarImg:{height:40,width:40}}})),Ge=function(e){var t,n=0,a=Object(b.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n+=c.item.price*c.quantity}}catch(r){a.e(r)}finally{a.f()}return Math.round(100*(n+Number.EPSILON))/100};function Ye(){var e=Ue(),t=Object(a.useContext)(f),n=t.cartItems,c=t.removeItem;return t.showCart?Object(p.jsxs)("div",{className:e.shopping,children:[Object(p.jsx)(Y.a,{variant:"h6",className:e.title,children:"Shopping Cart"}),Object(p.jsxs)("div",{children:[(!n||0===n.length)&&Object(p.jsx)("span",{children:"No Items"}),Object(p.jsx)(ze.a,{children:n&&n.map((function(t,n){return Object(p.jsxs)(Ee.a,{dense:!0,children:[Object(p.jsx)(Ve.a,{children:Object(p.jsx)(Me.a,{children:Object(p.jsx)("img",{alt:t.item.image,className:e.avatarImg,src:t.item.image})})}),Object(p.jsx)(He.a,{primary:t.item.name,secondary:t.quantity}),Object(p.jsx)(Re.a,{children:Object(p.jsx)(l.a,{edge:"end","aria-label":"delete",onClick:function(){return c(t.item)},children:Object(p.jsx)(Qe.a,{})})})]},n)}))}),Object(p.jsxs)(Y.a,{children:["Total Price: ",Ge(n)]}),Object(p.jsx)(k.b,{to:"/checkout/",children:Object(p.jsx)(We.a,{variant:"contained",color:"primary",children:"Check out"})})]})]}):Object(p.jsx)("div",{})}var Ke=n(122),Xe=Object(o.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:e.spacing(200),height:e.spacing(80)}},h4:{marginTop:e.spacing(4)}}}));var Ze=function(){var e=Xe();return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(J,{}),Object(p.jsx)("div",{className:e.root,children:Object(p.jsx)(Ke.a,{elevation:8,children:Object(p.jsxs)(Y.a,{className:e.h4,children:["TuPedido ",Object(p.jsx)("br",{}),"is the online store to make your shipments at any time of the day or year and from anywhere in the world for the family in Cuba.",Object(p.jsx)("br",{}),"We accept payments by credit card Visa and MasterCard. We guarantee 100% security in online transactions. To prevent fraud and misuse of credit cards, our monitoring team analyzes the authenticity of all transactions.",Object(p.jsx)("br",{}),"As a general rule, orders are delivered within 7 business days for the capital and for other regions the delivery time extends up to 10 business days although it is generally shorter. Deliveries are made through companies specialized in distribution, ensuring that the purchase made by you reaches the final recipient in perfect condition. For more information, you can check our delivery terms and rates here.",Object(p.jsx)("br",{}),"Choose our Online Agency to place your orders. We have more than 1000 products that we put at your disposal to deliver them, from the comfort of your home, in a fast and safe way.",Object(p.jsx)("br",{})]})})})]})},_e=n(23),$e=n(254),et=n(242),tt=n(248),nt=Object(a.createContext)({address:{street:"",house:"",zipCode:"",city:"",state:"",country:""},name:"",lastname:"",email:"",date:new Date,phone:"",billingStepValid:!1,setAddress:function(e){},setName:function(e){},setLastname:function(e){},setEmail:function(e){},setDate:function(e){},setPhone:function(e){},setBillingStepValid:function(e){}});var at=function(e){var t=e.children,n=Object(a.useState)({street:"",house:"",zipCode:"",city:"",state:"",country:""}),c=Object(x.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),o=Object(x.a)(s,2),d=o[0],j=o[1],l=Object(a.useState)(""),u=Object(x.a)(l,2),b=u[0],h=u[1],O=Object(a.useState)(""),m=Object(x.a)(O,2),f=m[0],g=m[1],v=Object(a.useState)(""),y=Object(x.a)(v,2),C=y[0],w=y[1],S=Object(a.useState)(new Date),N=Object(x.a)(S,2),k=N[0],I=N[1],q=Object(a.useState)(!1),T=Object(x.a)(q,2),A=T[0],B=T[1];return Object(p.jsx)(nt.Provider,{value:{address:r,name:d,lastname:b,email:f,date:k,phone:C,billingStepValid:A,setAddress:i,setName:j,setLastname:h,setEmail:g,setDate:I,setPhone:w,setBillingStepValid:B},children:t})},ct=n(245),rt=n(119);var it=function(){var e=Object(a.useContext)(nt),t=Object(s.b)(),n=t.user,c=t.isAuthenticated,r=Object(a.useState)(!1),i=Object(x.a)(r,2),o=i[0],d=i[1],j=Object(a.useState)(!1),l=Object(x.a)(j,2),u=l[0],b=l[1],h=Object(a.useState)(!1),O=Object(x.a)(h,2),m=O[0],f=O[1];function g(e,t,n){return e&&t&&n}return Object(p.jsxs)(p.Fragment,{children:[c&&Object(p.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(p.jsxs)(Ae.a,{container:!0,justify:"center",spacing:1,children:[Object(p.jsx)(Ae.a,{item:!0,children:Object(p.jsx)(ct.a,{variant:"outlined",id:"name",margin:"dense",value:e.name,onChange:function(t){e.setName(t.target.value);var n=t.target.value.length>0;d(n)},error:!o,helperText:o?"Name(s)":"Name is required"})}),Object(p.jsx)(Ae.a,{item:!0,children:Object(p.jsx)(ct.a,{variant:"outlined",id:"lastname",margin:"dense",value:e.lastname,error:!u,onChange:function(t){e.setLastname(t.target.value);var n=t.target.value.length>0;b(n),e.setBillingStepValid(g(o,n,m))},helperText:"Last Name"})}),Object(p.jsx)(Ae.a,{item:!0,children:Object(p.jsx)(ct.a,{variant:"outlined",id:"phone",margin:"dense",type:"tel",value:e.phone,error:!m,onChange:function(t){e.setPhone(t.target.value);var n=t.target.value.length>0&&Object(rt.a)(t.target.value);f(n),e.setBillingStepValid(g(o,u,n))},helperText:"Phone number"})}),Object(p.jsx)(Ae.a,{item:!0,children:Object(p.jsx)(ct.a,{variant:"outlined",required:!0,id:"street",margin:"dense",value:e.address.street,error:!e.address.street,onChange:function(t){e.setAddress(Object(_e.a)(Object(_e.a)({},e.address),{},{street:t.target.value}))},helperText:"Street"})}),Object(p.jsx)(Ae.a,{item:!0,children:Object(p.jsx)(ct.a,{variant:"outlined",required:!0,id:"house",margin:"dense",value:e.address.house,error:!e.address.house,onChange:function(t){e.setAddress(Object(_e.a)(Object(_e.a)({},e.address),{},{house:t.target.value}))},helperText:"House/Building"})}),Object(p.jsx)(Ae.a,{item:!0,children:Object(p.jsx)(ct.a,{variant:"outlined",required:!0,id:"phone",margin:"dense",value:e.address.zipCode,error:!e.address.zipCode,onChange:function(t){e.setAddress(Object(_e.a)(Object(_e.a)({},e.address),{},{zipCode:t.target.value}))},type:"number",helperText:"Post Code"})}),Object(p.jsx)(Ae.a,{item:!0,children:Object(p.jsx)(ct.a,{variant:"outlined",required:!0,id:"city",margin:"dense",value:e.address.city,error:!e.address.city,onChange:function(t){e.setAddress(Object(_e.a)(Object(_e.a)({},e.address),{},{city:t.target.value}))},helperText:"City"})}),Object(p.jsx)(Ae.a,{item:!0,children:Object(p.jsx)(ct.a,{variant:"outlined",required:!0,id:"state",margin:"dense",value:e.address.state,error:!e.address.state,onChange:function(t){e.setAddress(Object(_e.a)(Object(_e.a)({},e.address),{},{state:t.target.value}))},helperText:"State"})}),Object(p.jsx)(Ae.a,{item:!0,children:Object(p.jsx)(ct.a,{variant:"outlined",required:!0,id:"country",margin:"dense",value:e.address.country,error:!e.address.country,onChange:function(t){e.setAddress(Object(_e.a)(Object(_e.a)({},e.address),{},{country:t.target.value}))},helperText:"Country"})}),Object(p.jsxs)(Ae.a,{container:!0,xs:12,spacing:1,justify:"center",direction:"column",children:[Object(p.jsx)(Y.a,{variant:"subtitle1",children:n.email}),Object(p.jsx)(Y.a,{variant:"caption",children:"Your registered email address will be used"})]})]})}),!c&&Object(p.jsx)(Y.a,{color:"error",variant:"body2",children:"You must first login to finish the checkout process"})]})};var st=function(){var e=Object(a.useContext)(nt),t=Object(s.b)().user;return Object(p.jsxs)(Ae.a,{container:!0,justify:"center",spacing:1,children:[Object(p.jsxs)(Ae.a,{container:!0,xs:12,md:6,direction:"column",children:[Object(p.jsx)("h3",{children:"Personal Data"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"Full Name: "}),Object(p.jsxs)("span",{children:[e.name," ",e.lastname]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"Email: "}),Object(p.jsx)("span",{children:t.email})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"Phone: "}),Object(p.jsx)("span",{children:e.phone})]})]}),Object(p.jsxs)(Ae.a,{container:!0,xs:12,md:6,direction:"column",children:[Object(p.jsx)("h3",{children:"Billing Address"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"Street:"})," ",Object(p.jsx)("span",{children:e.address.street})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"House:"})," ",Object(p.jsx)("span",{children:e.address.house})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"Post Code:"}),Object(p.jsx)("span",{children:e.address.zipCode})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"City:"})," ",Object(p.jsx)("span",{children:e.address.city})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"State:"})," ",Object(p.jsx)("span",{children:e.address.state})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"Country:"})," ",Object(p.jsx)("span",{children:e.address.country})]})]}),Object(p.jsx)("caption",{children:"By clicking Next you are ok with the data provided"})]})},ot=n(241),dt={toFirestore:function(e){return{address:e.address,date:e.date,email:e.email,items:e.items.map((function(e){return{item:{description:e.item.description,id:e.item.id,image:e.item.image,name:e.item.name,price:e.item.price,qty:e.item.qty,rating:e.item.rating},quantity:e.quantity}})),lastname:e.lastname,name:e.name,phone:e.phone,total:e.total}},fromFirestore:function(e,t){var n=e.data(t);return{quantity:n.quantity,item:new he(n.item)}}};var jt=function(){var e=Object(a.useState)(!0),t=Object(x.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(void 0),i=Object(x.a)(r,2),o=i[0],d=i[1],j=Object(a.useContext)(f),l=j.cartItems,u=j.emptyCart,b=Object(a.useContext)(nt),h=Object(s.b)().user,O=Oe.a.firestore(),m=Object(H.g)();return console.log(l),Object(a.useEffect)((function(){O.collection("orders").withConverter(dt).add({items:l,email:h.email,address:b.address,date:b.date,name:b.name,lastname:b.lastname,phone:b.phone,total:Ge(l)}).then((function(e){setTimeout((function(){c(!1),d(e.id),u(),m.push("/orders/".concat(e.id))}),2e3)}))}),[]),Object(p.jsxs)(Ae.a,{container:!0,direction:"column",children:[n&&Object(p.jsxs)("div",{children:[Object(p.jsx)(Y.a,{variant:"caption",children:"Please wait while we create your order..."}),Object(p.jsx)(ot.a,{})]}),!n&&Object(p.jsx)("div",{children:Object(p.jsxs)(Y.a,{color:"textSecondary",variant:"caption",children:["Your order: ",o," was created successfully"]})})]})},lt=Object(o.a)((function(e){return{root:{width:"100%",marginTop:"1rem"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),ut=["Billing Details","Summary","Checkout"];function bt(e){switch(e){case 0:return Object(p.jsx)(it,{});case 1:return Object(p.jsx)(st,{});case 2:return Object(p.jsx)(jt,{});default:return"Unknown step"}}function ht(){var e=lt(),t=c.a.useState(0),n=Object(x.a)(t,2),r=n[0],i=n[1],s=Object(a.useContext)(f),o=Object(a.useContext)(nt);s.setShowCart(!0);return Object(p.jsxs)("div",{className:e.root,children:[Object(p.jsx)($e.a,{activeStep:r,children:ut.map((function(e,t){return Object(p.jsx)(et.a,Object(_e.a)(Object(_e.a)({},{}),{},{children:Object(p.jsx)(tt.a,Object(_e.a)(Object(_e.a)({},{}),{},{children:e}))}),e)}))}),Object(p.jsx)("div",{children:r===ut.length?Object(p.jsxs)("div",{children:[Object(p.jsx)(Y.a,{className:e.instructions,children:"All steps completed - you're finished"}),Object(p.jsx)(We.a,{onClick:function(){i(0)},className:e.button,children:"Reset"})]}):Object(p.jsxs)("div",{children:[bt(r),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)(We.a,{disabled:0===r,onClick:function(){i((function(e){return e-1}))},className:e.button,children:"Back"}),Object(p.jsx)(We.a,{variant:"contained",color:"primary",onClick:function(){i((function(e){return e+1}))},className:e.button,disabled:0===r&&!o.billingStepValid,children:r===ut.length-1?"Finish":"Next"})]})]})})]})}var Ot=Object(o.a)((function(e){return{address:{padding:"2rem",border:"1px solid #ccc",boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);",margin:"0 0 1rem 0"}}}));var mt=function(){var e=Ot(),t=Object(H.h)().id,n=Object(a.useState)(void 0),r=Object(x.a)(n,2),i=r[0],s=r[1];return Object(a.useContext)(f).setShowCart(!1),c.a.useEffect((function(){xe().collection("orders").doc(t).get().then((function(e){if(e.exists){var t=e.data();s(t)}else s(void 0)}))}),[t]),Object(p.jsxs)(p.Fragment,{children:[!i&&Object(p.jsx)("span",{children:"That order id seems invalid"}),i&&Object(p.jsxs)(Ae.a,{container:!0,direction:"column",children:[Object(p.jsx)(Y.a,{variant:"h2",children:"Order Details"}),Object(p.jsxs)(Ae.a,{item:!0,direction:"row",children:[Object(p.jsx)("strong",{children:"Ordered on"})," \xa0",i.date.toDate().toDateString()," | \xa0 ",Object(p.jsx)("strong",{children:"Order #"}),"\xa0 ",t,"\xa0|\xa0",Object(p.jsx)("strong",{children:"Order Total:"}),"\xa0\u20ac",i.total]}),Object(p.jsx)(Ae.a,{direction:"row",container:!0,className:e.address,children:Object(p.jsxs)(Ae.a,{item:!0,direction:"column",children:[Object(p.jsx)(Y.a,{variant:"h5",children:"Delivery Address"}),Object(p.jsxs)("span",{children:[i.name," ",i.lastname]}),Object(p.jsxs)("span",{children:[i.address.street," ",i.address.house]}),Object(p.jsxs)("span",{children:[i.address.city,", ",i.address.zipCode]}),Object(p.jsx)("span",{children:i.address.country})]})}),Object(p.jsx)(Ae.a,{container:!0,direction:"row",children:i.items.map((function(e,t){return Object(p.jsx)(le,{product:e.item,readonly:!0},t)}))})]})]})},xt=n(243);var pt=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){xe().collection("orders").get().then((function(e){if(e.empty)c([]);else{var t=e.docs.map((function(e){return Object(_e.a)({id:e.id},e.data())}));c(t)}}))}),[]),Object(p.jsx)(Ae.a,{container:!0,direction:"column",children:Object(p.jsx)("div",{children:Object(p.jsx)(ze.a,{dense:!0,children:n.map((function(e){return Object(p.jsxs)(Ee.a,{children:[Object(p.jsx)(He.a,{primary:e.date?e.date.toDate().toDateString():"",secondary:e.items?e.items.length+" Items":""}),Object(p.jsx)(Re.a,{children:Object(p.jsx)(k.b,{to:"/orders/"+e.id,children:Object(p.jsx)(l.a,{edge:"end","aria-label":"view",children:Object(p.jsx)(xt.a,{})})})})]})}))})})})};var ft=function(){return Object(p.jsx)(g,{children:Object(p.jsx)(k.a,{basename:"/tupedido-RRafols",children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(R,{}),Object(p.jsxs)(Ae.a,{container:!0,children:[Object(p.jsx)(Ae.a,{container:!0,xs:12,md:9,justify:"flex-end",children:Object(p.jsx)(Ae.a,{item:!0,xs:12,md:9,children:Object(p.jsxs)(H.d,{children:[Object(p.jsx)(H.b,{exact:!0,path:"/",children:Object(p.jsx)(H.a,{to:"/home"})}),Object(p.jsx)(H.b,{exact:!0,path:"/home",children:Object(p.jsx)(we,{})}),Object(p.jsx)(H.b,{path:"/restaurants",children:Object(p.jsx)(Te,{})}),Object(p.jsx)(H.b,{path:"/supermarket",children:Object(p.jsx)(pe,{})}),Object(p.jsx)(H.b,{path:"/details/:id",children:Object(p.jsx)(Pe,{})}),Object(p.jsx)(H.b,{path:"/product/:id",children:Object(p.jsx)(Fe,{})}),Object(p.jsx)(H.b,{path:"/checkout",children:Object(p.jsx)(at,{children:Object(p.jsx)(ht,{})})}),Object(p.jsx)(H.b,{path:"/whoWeAre",children:Object(p.jsx)(Ze,{})}),Object(p.jsx)(H.b,{exact:!0,path:"/orders/:id",children:Object(p.jsx)(mt,{})}),Object(p.jsx)(H.b,{exact:!0,path:"/orders",children:Object(p.jsx)(pt,{})})]})})}),Object(p.jsx)(Ae.a,{item:!0,xs:12,md:3,children:Object(p.jsx)(Ye,{})})]})]})})})},gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,256)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};n(161);i.a.render(Object(p.jsx)(s.a,{domain:"rrafolsmoreno.eu.auth0.com",clientId:"h32seM8H2bT3HBkuHYtvJMJWe7nmPXcd",redirectUri:window.location.origin,children:Object(p.jsx)(ft,{})}),document.getElementById("app")),gt()}},[[162,1,2]]]);
//# sourceMappingURL=main.a25e6a5b.chunk.js.map